import Foundation

enum WAR {
    static var set = "war"
    static var count = 264
    
    static let cards = [
        KarnTheGreatCreator,
        UginTheIneffable,
//        UginsConjurant,
        AjanisPridemate,
        BattlefieldPromotion,
        BondOfDiscipline,
        BulwarkGiant,
        CharmedStray,
        DefiantStrike,
        DivineArrow,
        EnforcerGriffin,
//        FinaleOfGlory,
//        GideonBlackblade,
//        GideonsSacrifice,
//        GideonsTriumph,
        GodEternalOketra,
//        GratefulApparition,
        IgniteTheBeacon,
        IroncladKrovod,
        LawRuneEnforcer,
        LoxodonSergeant,
//        MakeshiftBattalion,
//        MartyrForTheCause,
//        ParhelionII,
        PouncingLynx,
//        PrisonRealm,
        RallyOfWings,
        RavnicaAtWar,
        RisingPopulace,
//        SingleCombat,
        SunbladeAngel,
//        TeyoTheShieldmage,
        TeyosLightshield,
//        TomikDistinguishedAdvokist,
        ToppleTheStatue,
        TrustedPegasus,
//        TheWanderer,
//        WanderersStrike,
//        WarScreecher,
        AshioksSkulker,
//        AugurOfBolas,
//        AvenEternal,
//        BondOfInsight,
//        CallousDismissal,
//        CommenceTheEndgame,
//        ContentiousPlan,
//        CrushDissent,
        ErraticVisionary,
//        EternalSkylord,
//        FblthpTheLost,
//        FinaleOfRevelation,
//        FluxChanneler,
//        GodEternalKefnet,
//        JaceWielderOfMysteries,
        JacesTriumph,
//        KasminaEnigmaticMentor,
//        KasminasTransmutation,
//        KiorasDambreaker,
//        LazotepPlating,
        NagaEternal,
//        NarsetParterOfVeils,
//        NarsetsReversal,
//        NoEscape,
//        RelentlessAdvance,
//        RescuerSphinx,
//        SilentSubmersible,
        SkyTheaterStrix,
//        SparkDouble,
        SpellkeeperWeird,
        StealthMission,
//        TamiyosEpiphany,
//        TeferisTimeTwist,
        ThunderDrake,
        TotallyLost,
//        WallOfRunes,
//        AidTheFallen,
        Banehound,
//        BleedingEdge,
//        BolassCitadel,
        BondOfRevival,
        CharityExtractor,
//        CommandTheDreadhorde,
        DavrielRogueShadowmage,
        DavrielsShadowfuge,
//        DeliverUntoEvil,
//        DreadhordeInvasion,
//        Dreadmalkin,
        DuskmantleOperative,
//        TheElderspell,
//        EternalTaskmaster,
//        FinaleOfEternity,
//        GodEternalBontu,
//        HeraldOfTheDreadhorde,
//        KayasGhostform,
        LazotepBehemoth,
//        LazotepReaver,
//        LilianaDreadhordeGeneral,
//        LilianasTriumph,
//        MassacreGirl,
//        ObNixilisTheHateTwisted,
//        ObNixilissCruelty,
//        PriceOfBetrayal,
        Shriekdiver,
        SorinsThirst,
//        SparkHarvest,
//        SparkReaper,
        TithebearerGiant,
//        TollOfTheInvasion,
        UnlikelyAid,
        VampireOpportunist,
//        VizierOfTheScorpion,
//        VraskasFinisher,
//        AhnCropInvader,
        Blindblast,
//        BoltBend,
//        BondOfPassion,
//        BurningProphet,
        ChainwhipCyclops,
//        ChandraFireArtisan,
//        ChandrasPyrohelix,
        ChandrasTriumph,
        CyclopsElectromancer,
        Demolish,
//        DevouringHellion,
//        DreadhordeArcanist,
//        DreadhordeTwins,
//        FinaleOfPromise,
        GoblinAssailant,
        GoblinAssaultTeam,
//        GrimInitiate,
//        Heartfire,
//        HonorTheGodPharaoh,
//        IlhargTheRazeBoar,
//        InvadingManticore,
//        JayaVeneratedFiremage,
//        JayasGreeting,
        KrenkoTinStreetKingpin,
//        MizziumTank,
        NahirisStoneblades,
//        NehebDreadhordeChampion,
//        RagingKronch,
//        SamutsSprint,
//        SarkhanTheMasterless,
        SarkhansCatharsis,
        SpellgorgerWeird,
//        TibaltRakishInstigator,
        TibaltsRager,
        TurretOgre,
        ArborealGrazer,
//        ArlinnVoiceOfThePack,
        ArlinnsWolf,
        AwakeningOfVituGhazi,
//        BandTogether,
//        BloomHulk,
//        BondOfFlourishing,
        CentaurNurturer,
//        ChallengerTroll,
//        CourageInCrisis,
//        EvolutionSage,
//        FinaleOfDevastation,
        ForcedLanding,
        GiantGrowth,
        GodEternalRhonas,
//        JiangYangguWildcrafter,
        KraulStinger,
//        KronchWrangler,
//        MowuLoyalCompanion,
//        NewHorizons,
//        NissaWhoShakesTheWorld,
        NissasTriumph,
        ParadiseDruid,
//        PlanewideCelebration,
//        PollenbrightDruid,
        PrimordialWurm,
//        ReturnToNature,
//        Snarespinner,
        SteadyAim,
//        StormTheCitadel,
        ThunderingCeratok,
//        VivienChampionOfTheWilds,
//        ViviensArkbow,
        ViviensGrizzly,
        WardscaleCrocodile,
        AjaniTheGreathearted,
//        AngrathsRampage,
//        BioessenceHydra,
//        CasualtiesOfWar,
//        CruelCelebrant,
        Deathsprout,
        Despark,
//        DomriAnarchOfBolas,
        DomrisAmbush,
        DovinsVeto,
//        DreadhordeButcher,
        EliteGuardmage,
//        EnterTheGodEternals,
//        FeatherTheRedeemed,
//        GleamingOverseer,
        HeartwarmingRedemption,
//        HuatlisRaptor,
//        InvadeTheCity,
        LeylineProwler,
//        LivingTwister,
//        MayhemDevil,
//        MerfolkSkydiver,
//        Neoform,
//        NicolBolasDragonGod,
//        NivMizzetReborn,
//        OathOfKaya,
        PledgeOfUnity,
//        RalStormConduit,
//        RalsOutburst,
//        RoaleskApexHybrid,
//        RoleReversal,
        RubblebeltRioters,
        SolarBlaze,
//        SorinVengefulBloodlord,
//        SoulDiviner,
//        StorrevDevkarinLich,
//        TamiyoCollectorOfTales,
//        TeferiTimeRaveler,
//        TenthDistrictLegionnaire,
//        TimeWipe,
//        TolsimirFriendToWolves,
//        TyrantsScorn,
//        WidespreadBrutality,
//        AngrathCaptainOfChaos,
//        AshiokDreamRender,
//        DovinHandOfControl,
//        HuatliTheSunsHeart,
//        KayaBaneOfTheDead,
//        KioraBehemothBeckoner
//        NahiriStormOfStone,
//        SaheeliSublimeArtificer,
//        SamutTyrantSmasher,
//        VraskaSwarmsEminence,
//        FiremindVessel,
//        GodPharoahsStatue,
//        GuildGlobe,
//        IronBully,
//        ManaGeode,
//        Prismite,
//        SaheelisSilverwing,
//        BlastZone,
//        EmergencyZone,
//        GatewayPlaza,
//        InterplanarBeacon,
//        KarnsBastion,
//        MobilizedDistrict,
//        Basics,
//        TezzeretMasterOfTheBridge,
    ]
    
    static func RandomCard() -> Card {
        return cards[Int.random(in: 0 ..< cards.count)]()
    }
    
    static private func Mythics() -> [() -> Card] { return cards.filter({ $0().getRarity() == .Mythic }) }
    static private func Rares() -> [() -> Card] { return cards.filter({ $0().getRarity() == .Rare }) }
    static private func Uncommons() -> [() -> Card] { return cards.filter({ $0().getRarity() == .Uncommon }) }
    static private func Commons() -> [() -> Card] { return cards.filter({ $0().getRarity() == .Common && !$0().isBasicLand() }) }
    static private func BasicLands() -> [() -> Card] { return cards.filter({ $0().isBasicLand() }) }
    
    static func KarnTheGreatCreator() -> Card {
        let karn = Card(name: "Karn, the Great Creator", rarity: .Rare, set: set, number: 1)
        karn.setManaCost("4")
        karn.setType(.Legendary, .Planeswalker, .Karn)
        karn.addStaticAbility(
            requirement: AbilityRequirement.ArtifactsYourOpponentsControl(source: karn),
            effect: { return $0.withKeyword(.CantActivateAbilities) },
            layer: .AbilityAddingOrRemoving)
        karn.addActivatedAbility(
            string: "{+1}: Until your next turn, up to one target noncreature artifact becomes an artifact creature with power and toughness each equal to its converted mana cost.",
            cost: Cost.AddCounters(.Loyalty, 1),
            effect: TargetedEffect.SingleObject(
                restriction: TargetingRestriction.SingleObject(
                    restriction: { !$0.isType(.Creature) && $0.isType(.Artifact) },
                    zones: [.Battlefield],
                    optional: true),
                effect: { target in
                    target.addContinuousEffect(ContinuousEffect.UntilYourNextTurn(
                        effect: { return $0.withType(.Artifact).withType(.Creature) },
                        layer: .TypeChanging))
                    target.addContinuousEffect(ContinuousEffect.UntilYourNextTurn(
                        effect: { return $0.withBasePowerAndToughness(target.getConvertedManaCost(), target.getConvertedManaCost()) },
                        layer: .PowerToughnessSetting))
            }),
            manaAbility: false,
            sorcerySpeed: true,
            loyaltyAbility: true)
        karn.addActivatedAbility(
            string: "{-2}: You may choose an artifact card you own from outside the game or in exile, reveal that card, and put it into your hand.",
            cost: Cost.RemoveCounters(.Loyalty, 2),
            effect: {
                karn.getController().chooseCard(
                    from: karn.getController().getSideboard() + karn.getController().getCardsInExile(),
                    restriction: { $0.isType(.Artifact) },
                    action: { chosen, rest in
                        chosen?.reveal()
                        chosen?.putIntoHand()
                })
            },
            manaAbility: false,
            sorcerySpeed: true,
            loyaltyAbility: true)
        karn.startingLoyalty = 5
        return karn
    }
    static func UginTheIneffable() -> Card {
        let ugin = Card(name: "Ugin, the Ineffable", rarity: .Rare, set: set, number: 2)
        ugin.setManaCost("6")
        ugin.setType(.Legendary, .Planeswalker, .Ugin)
        ugin.addStaticAbility(
            requirement: .SpellsYouCast(source: ugin, additionalRequirement: { $0.isColorless() }),
            effect: { object in
                object.castingCost = object.getBaseCastingCost().reducedBy(2)
                return object
            },
            layer: .CostReduction)
        ugin.addActivatedAbility(
            string: "{+1}: Exile the top card of your library face down and look at it. Create a 2/2 colorless Spirit creature token. When that token leaves the battlefield, put the exiled card into your hand.",
            cost: Cost.AddCounters(.Loyalty, 1),
            effect: {
                let spirit = Spirit()
                var library = ugin.getController().getLibrary()
                if let card = library.popLast() {
                    card.exile(faceDown: true)
                    card.revealToOwner()
                    spirit.associateExiledObject(card)
                    // TODO: Technically, the source of this triggered ability is ugin, right? Even if it's not on the battlefield.
                    spirit.addTriggeredAbility(
                        trigger: .ThisLTB,
                        effect: {
                            if let exiledCard = spirit.exiledObjects.first {
                                exiledCard.putIntoHand()
                            }
                    })
                }
                ugin.getController().createToken(spirit)
            },
            manaAbility: false,
            sorcerySpeed: true,
            loyaltyAbility: true)
        ugin.addActivatedAbility(
            string: "{-3}: Destroy target permanent that's one or more colors.",
            cost: Cost.RemoveCounters(.Loyalty, 3),
            effect: TargetedEffect.SingleObject(
                restriction: TargetingRestriction.SingleObject(
                    restriction: { $0.isPermanent() && !$0.isColorless() },
                    zones: [.Battlefield]),
                effect: { _ = $0.destroy() }),
            manaAbility: false,
            sorcerySpeed: true,
            loyaltyAbility: true)
        ugin.startingLoyalty = 4
        return ugin
    }
    // 3 Ugin's Conjurant
    static func AjanisPridemate() -> Card {
        let ajanisPridemate = Card(name: "Ajani's Pridemate", rarity: .Uncommon, set: set, number: 4)
        ajanisPridemate.setManaCost("1W")
        ajanisPridemate.setType(.Creature, .Cat, .Soldier)
        ajanisPridemate.addTriggeredAbility(
            trigger: .YouGainLife,
            effect: { ajanisPridemate.addCounter(.PlusOnePlusOne) }
        )
        ajanisPridemate.setFlavorText("\"When one of us prospers, the pride prospers.\"\n--Jazal Goldmane")
        ajanisPridemate.power = 2
        ajanisPridemate.toughness = 2
        return ajanisPridemate
    }
    static func BattlefieldPromotion() -> Card {
        let battlefieldPromotion = Card(name: "Battlefield Promotion", rarity: .Common, set: set, number: 5)
        battlefieldPromotion.setManaCost("1W")
        battlefieldPromotion.setType(.Instant)
        battlefieldPromotion.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetCreature(),
            effect: { target in
                target.addCounter(.PlusOnePlusOne)
                target.giveKeywordUntilEndOfTurn(.FirstStrike)
                battlefieldPromotion.getController().gainLife(2)
        }))
        battlefieldPromotion.setFlavorText("\"Welcome to the Legion. You saved a district--now let's go save the world.\"")
        return battlefieldPromotion
    }
    static func BondOfDiscipline() -> Card {
        let bondOfDiscipline = Card(name: "Bond of Discipline", rarity: .Uncommon, set: set, number: 6)
        bondOfDiscipline.setManaCost("4W")
        bondOfDiscipline.setType(.Sorcery)
        bondOfDiscipline.addEffect({
            bondOfDiscipline.eachOpponent({ opponent in
                opponent.getCreatures().forEach({ $0.tap() })
            })
            bondOfDiscipline.getController().getCreatures().forEach({ creature in
                creature.giveKeywordUntilEndOfTurn(.Lifelink)
            })
        })
        bondOfDiscipline.setFlavorText("\"We agree that order benefits everyone, but not until you enforce it.\"")
        return bondOfDiscipline
    }
    static func BulwarkGiant() -> Card {
        let bulwarkGiant = Card(name: "Bulwark Giant", rarity: .Common, set: set, number: 7)
        bulwarkGiant.setManaCost("5W")
        bulwarkGiant.setType(.Creature, .Giant, .Soldier)
        bulwarkGiant.addTriggeredAbility(
            trigger: .ThisETB,
            effect: { bulwarkGiant.getController().gainLife(5) })
        bulwarkGiant.setFlavorText("\"Where did she come from? More importantly, are there more like her?\"\n--Gideon Jura")
        bulwarkGiant.power = 3
        bulwarkGiant.toughness = 6
        return bulwarkGiant
    }
    static func CharmedStray() -> Card {
        let name = "Charmed Stray"
        let charmedStray = Card(name: name, rarity: .Common, set: set, number: 8)
        charmedStray.setManaCost("W")
        charmedStray.setType(.Creature, .Cat)
        charmedStray.lifelink = true
        charmedStray.addTriggeredAbility(
            trigger: .ThisETB,
            effect: {
                charmedStray.getController().getCreatures()
                            .filter({ $0 != charmedStray && $0.getName() == name })
                            .forEach({ $0.addCounter(.PlusOnePlusOne) })
        })
        charmedStray.setFlavorText("\"There's something peculiar about the cats today.\"\n--Janoc, Tin Street tinker")
        charmedStray.power = 1
        charmedStray.toughness = 1
        return charmedStray
    }
    static func DefiantStrike() -> Card {
        let defiantStrike = Card(name: "Defiant Strike", rarity: .Common, set: set, number: 9)
        defiantStrike.setManaCost("W")
        defiantStrike.setType(.Instant)
        defiantStrike.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetCreature(),
            effect: {
                $0.pump(1, 0)
                defiantStrike.getController().drawCard()
        }))
        defiantStrike.setFlavorText("\"My family was saved thanks to a single Boros soldier. It's why I joined the legion. I will be the protector now.\"")
        return defiantStrike
    }
    static func DivineArrow() -> Card {
        let divineArrow = Card(name: "Divine Arrow", rarity: .Common, set: set, number: 10)
        divineArrow.setManaCost("1W")
        divineArrow.setType(.Instant)
        divineArrow.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.SingleObject(
                restriction: { $0.isType(.Creature) && ($0.isAttacking || $0.blocking ) },
                zones: [.Battlefield]),
            effect: { target in divineArrow.damage(to: target, 4) }))
        divineArrow.setFlavorText("Ravnica's defenders watched in horror as Oketra's shot pierced the body of the pegasus. Gideon tumbled through the air, Blackblade in hand.")
        return divineArrow
    }
    static func EnforcerGriffin() -> Card {
        let enforcerGriffin = Card(name: "Enforcer Griffin", rarity: .Common, set: set, number: 11)
        enforcerGriffin.setManaCost("4W")
        enforcerGriffin.setType(.Creature, .Griffin)
        enforcerGriffin.flying = true
        enforcerGriffin.setFlavorText("\"A company of infantry is trapped behind the lines. We need to strike hard and fast to free them, or the casualties will be horrific. Send the griffins.\"\n--Tajic")
        enforcerGriffin.power = 3
        enforcerGriffin.toughness = 4
        return enforcerGriffin
    }
    // 12 Finale of Glory
    // 13 Gideon Blackblade
    // 14 Gideon's Sacrifice
    // 15 Gideon's Triumph
    static func GodEternalOketra() -> Card {
        let godEternalOketra = Card(name: "God-Eternal Oketra", rarity: .Mythic, set: set, number: 16)
        godEternalOketra.setManaCost("3WW")
        godEternalOketra.setType(.Legendary, .Creature, .Zombie, .God)
        godEternalOketra.doubleStrike = true
        godEternalOketra.addTriggeredAbility(
            trigger: .YouCastCreatureSpell,
            effect: { godEternalOketra.getController().createToken(ZombieWarrior()) })
        let deathOrExileEffect: () -> Void = { godEternalOketra.putOnTopOfLibrary(fromTop: 3)}
        godEternalOketra.addTriggeredAbility(
            trigger: .ThisDies,
            effect: deathOrExileEffect,
            effectOptional: true)
        godEternalOketra.addTriggeredAbility(
            trigger: .ThisExiledFromBattlefield,
            effect: deathOrExileEffect,
            effectOptional: true)
        godEternalOketra.power = 3
        godEternalOketra.toughness = 6
        return godEternalOketra
    }
    // 17 Grateful Apparition
    static func IgniteTheBeacon() -> Card {
        let igniteTheBeacon = Card(name: "Ignite the Beacon", rarity: .Rare, set: set, number: 18)
        igniteTheBeacon.setManaCost("4W")
        igniteTheBeacon.setType(.Sorcery)
        igniteTheBeacon.addEffect({
            igniteTheBeacon.getController().chooseCards(
                from: igniteTheBeacon.getController().getLibrary(),
                restrictions: [{$0.isType(.Planeswalker)},
                               {$0.isType(.Planeswalker)}],
                action: { chosen, rest in
                    chosen.forEach({
                        $0.reveal()
                        $0.putIntoHand()
                    })
                    igniteTheBeacon.getController().shuffleLibrary()
            })
        })
        igniteTheBeacon.setFlavorText("\"If you can't save yourself, you fight to give someone else a chance.\"\n--Ajani Goldmane")
        return igniteTheBeacon
    }
    static func IroncladKrovod() -> Card {
        let ironcladKrovod = Card(name: "Ironclad Krovod", rarity: .Common, set: set, number: 19)
        ironcladKrovod.setManaCost("3W")
        ironcladKrovod.setType(.Creature, .Beast)
        ironcladKrovod.setFlavorText("\"We need to block the exits from the plaza! What's big, heavy, and available?\"\n--GGideon Jura")
        ironcladKrovod.power = 2
        ironcladKrovod.toughness = 5
        return ironcladKrovod
    }
    static func LawRuneEnforcer() -> Card {
        let lawRuneEnforcer = Card(name: "Law-Rune Enforcer", rarity: .Common, set: set, number: 20)
        lawRuneEnforcer.setManaCost("W")
        lawRuneEnforcer.setType(.Creature, .Human, .Soldier)
        lawRuneEnforcer.addActivatedAbility(
            string: "{1}, {T}: Tap target creature with converted mana cost 2 or greater.",
            cost: Cost.Mana("1").Tap(),
            effect: TargetedEffect.SingleObject(
                restriction: TargetingRestriction.SingleObject(
                    restriction: { $0.isType(.Creature) && $0.getConvertedManaCost() >= 2 },
                    zones: [.Battlefield]),
                effect: { $0.tap() }))
        lawRuneEnforcer.setFlavorText("\"See that no one enters or leaves New Prahv today. And notify me at once of any Planeswalker activity.\"\n--Dovin Baan")
        lawRuneEnforcer.power = 1
        lawRuneEnforcer.toughness = 2
        return lawRuneEnforcer
    }
    static func LoxodonSergeant() -> Card {
        let loxodonSergeant = Card(name: "Loxodon Sergeant", rarity: .Common, set: set, number: 21)
        loxodonSergeant.setManaCost("3W")
        loxodonSergeant.setType(.Creature, .Elephant, .Soldier)
        loxodonSergeant.vigilance = true
        loxodonSergeant.addTriggeredAbility(
            trigger: .ThisETB,
            effect: {
                loxodonSergeant.getController().getCreatures().filter({ $0 != loxodonSergeant }).forEach({ creature in
                    creature.giveKeywordUntilEndOfTurn(.Vigilance)
                })
        })
        loxodonSergeant.setFlavorText("His voice is both war horn and rallying cry, a trumpeting call that stirs even the faintest hearts.")
        loxodonSergeant.power = 3
        loxodonSergeant.toughness = 3
        return loxodonSergeant
    }
    // 22 Makeshift Battalion
    // 23 Martyr for the Cause
    // 24 Parhelion II
    static func PouncingLynx() -> Card {
        let pouncingLynx = Card(name: "Pouncing Lynx", rarity: .Common, set: set, number: 25)
        pouncingLynx.setManaCost("1W")
        pouncingLynx.setType(.Creature, .Cat)
        pouncingLynx.addStaticAbility(
            requirement: AbilityRequirement.This(pouncingLynx),
            effect: { return $0.getController().active ? $0.withKeyword(.FirstStrike) : $0 },
            layer: .AbilityAddingOrRemoving)
        pouncingLynx.setFlavorText("\"I don't understand. He's normally so well behaved!\"")
        pouncingLynx.power = 2
        pouncingLynx.toughness = 1
        return pouncingLynx
    }
    // 26 Prison Realm
    static func RallyOfWings() -> Card {
        let rallyOfWings = Card(name: "Rally of Wings", rarity: .Uncommon, set: set, number: 27)
        rallyOfWings.setManaCost("1W")
        rallyOfWings.setType(.Instant)
        rallyOfWings.addEffect({
            rallyOfWings.getController().getCreatures().forEach({ $0.untap() })
            rallyOfWings.getController().getCreatures().forEach({ if $0.flying { $0.pump(2, 2) } })
        })
        rallyOfWings.setFlavorText("Even the clouds became a field of battle. Known as the Sky Theater, it saw the Eternals clash with squadrons of angels.")
        return rallyOfWings
    }
    static func RavnicaAtWar() -> Card {
        let ravnicaAtWar = Card(name: "Ravnica at War", rarity: .Rare, set: set, number: 28)
        ravnicaAtWar.setManaCost("3W")
        ravnicaAtWar.setType(.Sorcery)
        ravnicaAtWar.addEffect({
            Game.shared.bothPlayers({ player in
                player.getPermanents().filter({ $0.isMulticolored() }).forEach({ $0.exile() })
            })
        })
        ravnicaAtWar.setFlavorText("The heart of Ravnica disappeared before anyone could strike a blow in its defense.")
        return ravnicaAtWar
    }
    static func RisingPopulace() -> Card {
        let risingPopulace = Card(name: "Rising Populace", rarity: .Common, set: set, number: 29)
        risingPopulace.setManaCost("2W")
        risingPopulace.setType(.Creature, .Human)
        risingPopulace.addTriggeredAbility(
            trigger: .AnotherCreatureOrPlaneswalkerYouControlDies,
            effect: { risingPopulace.addCounter(.PlusOnePlusOne) })
        risingPopulace.setFlavorText("Grief is a crucible where resolve is tempered.")
        risingPopulace.power = 2
        risingPopulace.toughness = 2
        return risingPopulace
    }
    // 30 Single Combat
    static func SunbladeAngel() -> Card {
        let sunbladeAngel = Card(name: "Sunblade Angel", rarity: .Uncommon, set: set, number: 21)
        sunbladeAngel.setManaCost("5W")
        sunbladeAngel.setType(.Creature, .Angel)
        sunbladeAngel.flying = true
        sunbladeAngel.firstStrike = true
        sunbladeAngel.vigilance = true
        sunbladeAngel.lifelink = true
        sunbladeAngel.setFlavorText("At Feather's command, squadrons of battle angels swarmed out of the <i>Parhelion II</i>, unsheathing blades made of molten dawn.")
        sunbladeAngel.power = 3
        sunbladeAngel.toughness = 3
        return sunbladeAngel
    }
    // 32 Teyo, the Shieldmage
    static func TeyosLightshield() -> Card {
        let teyosLightshield = Card(name: "Teyo's Lightshield", rarity: .Common, set: set, number: 33)
        teyosLightshield.setManaCost("3W")
        teyosLightshield.setType(.Creature, .Illusion)
        teyosLightshield.addTriggeredAbility(
            trigger: .ThisETB,
            effect: TargetedEffect.SingleObject(
                restriction: TargetingRestriction.SingleObject(
                    restriction: { $0.isType(.Creature) && $0.getController() === teyosLightshield.getController() },
                    zones: [.Battlefield]),
                effect: { $0.addCounter(.PlusOnePlusOne) }))
        teyosLightshield.setFlavorText("Teyo gifted his shields to as many allies as possible, knowing he could not always be there to protect them himself.")
        teyosLightshield.power = 0
        teyosLightshield.toughness = 3
        return teyosLightshield
    }
    // 34 Tomik, Distinguished Advokist
    static func ToppleTheStatue() -> Card {
        let toppleTheStatue = Card(name: "Topple the Statue", rarity: .Common, set: set, number: 35)
        toppleTheStatue.setManaCost("2W")
        toppleTheStatue.setType(.Instant)
        toppleTheStatue.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetPermanent(),
            effect: { target in
                target.tap()
                if target.isType(.Artifact) {
                    _ = target.destroy()
                }
                toppleTheStatue.getController().drawCard()
        }))
        toppleTheStatue.setFlavorText("Bolas cared little when his statue fell, thinking it a useful distraction, underestimating the surge of resolve it gave his opponents.")
        return toppleTheStatue
    }
    static func TrustedPegasus() -> Card {
        let trustedPegasus = Card(name: "Trusted Pegasus", rarity: .Common, set: set, number: 36)
        trustedPegasus.setManaCost("2W")
        trustedPegasus.setType(.Creature, .Pegasus)
        trustedPegasus.flying = true
        trustedPegasus.addTriggeredAbility(
            trigger: .ThisAttacks,
            effect: TargetedEffect.SingleObject(
                restriction: TargetingRestriction.SingleObject(
                    restriction: { $0.isAttacking && $0.isType(.Creature) && !$0.flying },
                    zones: [.Battlefield]),
                effect: { $0.giveKeywordUntilEndOfTurn(.Flying) }))
        trustedPegasus.setFlavorText("\"Would you give your life to save this world?\" Gideon murmured. The pegasus snorted and spread wide its mighty wings.")
        trustedPegasus.power = 2
        trustedPegasus.toughness = 2
        return trustedPegasus
    }
    // 37 The Wanderer
    // 38 Wanderer's Strike
    static func WarShrieker() -> Card {
        let warShrieker = Card(name: "War Shrieker", rarity: .Common, set: set, number: 39)
        warShrieker.setManaCost("1W")
        warShrieker.setType(.Creature, .Bird)
        warShrieker.flying = true
        warShrieker.addActivatedAbility(
            string: "{5}{W}, {T}: Other creatures you control get +1/+1 until end of turn.",
            cost: Cost.Mana("5W").Tap(),
            effect: { warShrieker.getController().getCreatures().filter({ $0 != warShrieker }).forEach({ $0.pump(1, 1) })
        })
        warShrieker.setFlavorText("Soaring over Vitu-Ghazi, New Prahv, and Orzhova, the Conclave's trained falcons provided critical intelligence.")
        warShrieker.power = 1
        warShrieker.toughness = 3
        return warShrieker
    }
    static func AshioksSkulker() -> Card {
        let ashioksSkulker = Card(name: "Ashiok's Skulker", rarity: .Common, set: set, number: 40)
        ashioksSkulker.setManaCost("4U")
        ashioksSkulker.setType(.Creature, .Nightmare)
        ashioksSkulker.addActivatedAbility(
            string: "{3}{U}: ~ can't be blocked this turn.",
            cost: Cost.Mana("3U"),
            effect: { ashioksSkulker.giveKeywordUntilEndOfTurn(.Unblockable) })
        ashioksSkulker.setFlavorText("\"Fear writhes and whispers in the shadows of your mind. It is the enemy you always knew would come.\"\n--Ashiok")
        ashioksSkulker.power = 3
        ashioksSkulker.toughness = 5
        return ashioksSkulker
    }
    // 41 Augur of Bolas
    // 42 Aven Eternal
    // 43 Bond of Insight
    // 44 Callous Dismissal
    // 45 Commence the Endgame
    // 46 Contentious Plan
    // 47 Crush Dissent
    static func ErraticVisionary() -> Card {
        let erraticVisionary = Card(name: "Erratic Visionary", rarity: .Common, set: set, number: 48)
        erraticVisionary.setManaCost("1U")
        erraticVisionary.setType(.Creature, .Human, .Wizard)
        erraticVisionary.addActivatedAbility(
            string: "{1}{U}, {T}: Draw a card, then discard a card.",
            cost: Cost.Mana("1U").Tap(),
            effect: {
                erraticVisionary.getController().drawCard()
                erraticVisionary.getController().discard()
        })
        erraticVisionary.setFlavorText("An Izzet experiment begins with a \"what if,\" gets approved with a \"why not,\" and concludes with a \"eureka!\"")
        erraticVisionary.power = 1
        erraticVisionary.toughness = 3
        return erraticVisionary
    }
    // 49 Eternal Skylord
    // 50 Fblthp, the Lost
    // 51 Finale of Revelation
    // 52 Flux Channeler
    // 53 God-Eternal Kefnet
    // 54 Jace, Wielder of Mysteries
    static func JacesTriumph() -> Card {
        let jacesTriumph = Card(name: "Jace's Triumph", rarity: .Uncommon, set: set, number: 55)
        jacesTriumph.setManaCost("2U")
        jacesTriumph.setType(.Sorcery)
        jacesTriumph.addEffect({
            let controlsJace = !jacesTriumph.getController().getPermanents().filter({ $0.isType(.Jace) && $0.isType(.Planeswalker) }).isEmpty
            let amount = controlsJace ? 3 : 2
            jacesTriumph.getController().drawCards(amount)
        })
        jacesTriumph.setFlavorText("His triumph was not outsmarting Bolas's plan, but in understanding why ultimate power is self-defeating.")
        return jacesTriumph
    }
    // 56 Kasmina, Enigmatic Mentor
    // 57 Kasmina's Transmutation
    // 58 Kiora's Dambreaker
    // 59 Lazotep Plating
    static func NagaEternal() -> Card {
        let nagaEternal = Card(name: "Naga Eternal", rarity: .Common, set: set, number: 60)
        nagaEternal.setManaCost("2U")
        nagaEternal.setType(.Creature, .Zombie, .Naga)
        nagaEternal.setFlavorText("\"I recognize that headdress. This one was feared even by her fellow initiates.\"\n--Samut")
        nagaEternal.power = 3
        nagaEternal.toughness = 2
        return nagaEternal
    }
    // 61 Narset, Parter of Veils
    // 62 Narset's Reversal
    // 63 No Escape
    // 64 Relentless Advance
    // 65 Rescuer Sphinx
    // 66 Silent Submersible
    static func SkyTheaterStrix() -> Card {
        let skyTheaterStrix = Card(name: "Sky Theater Strix", rarity: .Common, set: set, number: 67)
        skyTheaterStrix.setManaCost("1U")
        skyTheaterStrix.setType(.Creature, .Bird)
        skyTheaterStrix.flying = true
        skyTheaterStrix.addTriggeredAbility(
            trigger: .YouCastNoncreatureSpell,
            effect: { skyTheaterStrix.pump(1, 0) })
        skyTheaterStrix.setFlavorText("Courier owls joined the fray, attacking the Dreadhorde with a viciousness usually reserved for mail thieves.")
        skyTheaterStrix.power = 1
        skyTheaterStrix.toughness = 2
        return skyTheaterStrix
    }
    // 68 Spark Double
    static func SpellkeeperWeird() -> Card {
        let spellkeeperWeird = Card(name: "Spellkeeper Weird", rarity: .Common, set: set, number: 69)
        spellkeeperWeird.setManaCost("2U")
        spellkeeperWeird.setType(.Creature, .Weird)
        spellkeeperWeird.addActivatedAbility(
            string: "{2}, {T}, Sacrifice ~: Return target instant or sorcery card from your graveyard to your hand.",
            cost: Cost.Mana("2").Tap().Sacrifice(),
            effect: TargetedEffect.SingleObject(
                restriction: TargetingRestriction.SingleObject(
                    restriction: { $0.isType(.Instant) || $0.isType(.Sorcery)},
                    zones: [.Graveyard]),
                effect: { $0.putIntoHand() }))
        spellkeeperWeird.setFlavorText("They worked well as a team, but they knew it couldn't last forever.")
        spellkeeperWeird.power = 1
        spellkeeperWeird.toughness = 4
        return spellkeeperWeird
    }
    static func StealthMission() -> Card {
        let stealthMission = Card(name: "Stealth Mission", rarity: .Common, set: set, number: 70)
        stealthMission.setManaCost("2U")
        stealthMission.setType(.Sorcery)
        stealthMission.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.SingleObject(
                restriction: { $0.isType(.Creature) && $0.getController() === stealthMission.getController() },
                zones: [.Battlefield]),
            effect: { target in
                target.addCounters(.PlusOnePlusOne, 2)
                target.giveKeywordUntilEndOfTurn(.Unblockable)
        }))
        stealthMission.setFlavorText("\"What they don't know will definitely hurt them.\"\n--Lazav")
        return stealthMission
    }
    // 71 Tamiyo's Epiphany
    // 72 Teferi's Time Twist
    static func ThunderDrake() -> Card {
        let thunderDrake = Card(name: "Thunder Drake", rarity: .Common, set: set, number: 73)
        thunderDrake.setManaCost("3U")
        thunderDrake.setType(.Creature, .Elemental, .Drake)
        thunderDrake.flying = true
        thunderDrake.addTriggeredAbility(
            trigger: .YouCastYourSecondSpellEachTurn,
            effect: { thunderDrake.addCounter(.PlusOnePlusOne) })
        thunderDrake.setFlavorText("The arrival of the Planar Bridge caused eddies in the aether, creating some entirely new species while transforming others.")
        thunderDrake.power = 2
        thunderDrake.toughness = 3
        return thunderDrake
    }
    static func TotallyLost() -> Card {
        let totallyLost = Card(name: "Totally Lost", rarity: .Common, set: set, number: 74)
        totallyLost.setManaCost("4U")
        totallyLost.setType(.Instant)
        totallyLost.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetNonlandPermanent(),
            effect: { $0.putOnTopOfLibrary() }))
        totallyLost.setFlavorText("At least this was better than the week at the Juri Revue.")
        return totallyLost
    }
    // 75 Wall of Runes
    // 76 Aid the Fallen
    static func Banehound() -> Card {
        let banehound = Card(name: "Banehound", rarity: .Common, set: set, number: 77)
        banehound.setManaCost("B")
        banehound.setType(.Creature, .Nightmare, .Hound)
        banehound.lifelink = true
        banehound.haste = true
        banehound.setFlavorText("\"I wish I could train a pack of them for hunting in the undercity. But I'd never dare turn my back, and I hate to think what I'd have to feed them.\"\n--Zhosmir, urban huntmaster")
        banehound.power = 1
        banehound.toughness = 1
        return banehound
    }
    // 78 Bleeding Edge
    // 79 Bolas's Citadel
    static func BondOfRevival() -> Card {
        let bondOfRevival = Card(name: "Bond of Revival", rarity: .Uncommon, set: set, number: 80)
        bondOfRevival.setManaCost("4B")
        bondOfRevival.setType(.Sorcery)
        bondOfRevival.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.SingleObject(
                restriction: { $0.isType(.Creature) && $0.getController() === bondOfRevival.getController() },
                zones: [.Graveyard]),
            effect: { target in
                target.putOntoBattlefield()
                target.giveKeywordUntilEndOfTurn(.Haste)
        }))
        bondOfRevival.setFlavorText("\"Today we throw off the yoke of death. Either this is an affirmation of the eternal cyclical nature of life, or it's just hilarious--depends on which of us you ask.\"")
        return bondOfRevival
    }
    static func CharityExtractor() -> Card {
        let charityExtractor = Card(name: "Charity Extractor", rarity: .Common, set: set, number: 81)
        charityExtractor.setManaCost("3B")
        charityExtractor.setType(.Creature, .Human, .Knight)
        charityExtractor.lifelink = true
        charityExtractor.setFlavorText("\"War or no war, your donations are due, as always.\"")
        charityExtractor.power = 1
        charityExtractor.toughness = 5
        return charityExtractor
    }
    // 82 Command the Dreadhorde
    static func DavrielRogueShadowmage() -> Card {
        let davriel = Card(name: "Davriel, Rogue Shadowmage", rarity: .Uncommon, set: set, number: 83)
        davriel.setManaCost("2B")
        davriel.setType(.Legendary, .Planeswalker, .Davriel)
        davriel.addTriggeredAbility(
            trigger: .EachOpponentsUpkeep,
            effect: {
                let opponent = Game.shared.getActivePlayer()
                if opponent.getHand().count <= 1 {
                    davriel.damage(to: opponent, 2)
                }
        })
        davriel.addActivatedAbility(
            string: "{-1}: Target player discards a card.",
            cost: Cost.RemoveCounters(.Loyalty, 1),
            effect: TargetedEffect.SinglePlayer(
                restriction: TargetingRestriction.TargetPlayer(),
                effect: { $0.discard() }),
            manaAbility: false,
            sorcerySpeed: true,
            loyaltyAbility: true)
        davriel.startingLoyalty = 3
        return davriel
    }
    static func DavrielsShadowfuge() -> Card {
        let davrielsShadowfuge = Card(name: "Davriel's Shadowfuge", rarity: .Common, set: set, number: 84)
        davrielsShadowfuge.setManaCost("3B")
        davrielsShadowfuge.setType(.Sorcery)
        davrielsShadowfuge.addEffect(TargetedEffect.SinglePlayer(
            restriction: TargetingRestriction.TargetPlayer(),
            effect: {
                $0.discard(2)
                $0.loseLife(2)
        }))
        davrielsShadowfuge.setFlavorText("Shadows coiled around the witness's mind. Then the moment vanished, leaving only the sting of its loss.")
        return davrielsShadowfuge
    }
    // 85 Deliver Unto Evil
    // 86 Dreadhorde Invasion
    // 87 Dreadmalkin
    static func DuskmantleOperative() -> Card {
        let duskmantleOperative = Card(name: "Duskmantle Operative", rarity: .Common, set: set, number: 88)
        duskmantleOperative.setManaCost("1B")
        duskmantleOperative.setType(.Creature, .Human, .Rogue)
        duskmantleOperative.blockabilityRequirements.append({ object in
            return object.getToughness() < 4
        })
        duskmantleOperative.setFlavorText("Gideon eyed the Dimir emissary wearily. \"Could your agents slip inside Bolas's citadel?\" The figure met his gaze with icy resolve. \"We already have.\"")
        duskmantleOperative.power = 2
        duskmantleOperative.toughness = 2
        return duskmantleOperative
    }
    // 89 The Elderspell
    // 90 Eternal Taskmaster
    // 91 Finale of Eternity
    // 92 God-Eternal Bontu
    // 93 Herald of the Dreadhorde
    // 94 Kaya's Ghostform
    static func LazotepBehemoth() -> Card {
        let lazotepBehemoth = Card(name: "Lazotep Behemoth", rarity: .Common, set: set, number: 95)
        lazotepBehemoth.setManaCost("4B")
        lazotepBehemoth.setType(.Creature, .Zombie, .Hippo)
        lazotepBehemoth.setFlavorText("\"I know I should be more concerned. But a big, blue, zombie-potamus from beyond the stars? This is what they're invading us with?\"\n--Mileva, Boros legionnaire")
        lazotepBehemoth.power = 5
        lazotepBehemoth.toughness = 4
        return lazotepBehemoth
    }
    // 96 Lazotep Reaver
    // 97 Liliana, Dreadhorde General
    // 98 Liliana's Triumph
    // 99 Massacre Girl
    // 100 Ob Nixilis, the Hate-Twisted
    // 101 Ob Nixilis's Cruelty,
    // 102 Price of Betrayal
    static func Shriekdiver() -> Card {
        let shriekdiver = Card(name: "Shriekdiver", rarity: .Common, set: set, number: 103)
        shriekdiver.setManaCost("2B")
        shriekdiver.setType(.Creature, .Zombie, .Bird, .Warrior)
        shriekdiver.flying = true
        shriekdiver.addActivatedAbility(
            string: "{1}: ~ gains haste until end of turn.",
            cost: Cost.Mana("1"),
            effect: { shriekdiver.giveKeywordUntilEndOfTurn(.Haste) })
        shriekdiver.setFlavorText("\"It's faster than we are. Draw its attention while the Ledev take aim!\"\n--Shauntal, Boros legionnaire")
        shriekdiver.power = 2
        shriekdiver.toughness = 1
        return shriekdiver
    }
    static func SorinsThirst() -> Card {
        let sorinsThirst = Card(name: "Sorin's Thirst", rarity: .Common, set: set, number: 104)
        sorinsThirst.setManaCost("1B")
        sorinsThirst.setType(.Instant)
        sorinsThirst.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetCreature(),
            effect: { target in
                sorinsThirst.damage(to: target, 2)
                sorinsThirst.getController().gainLife(2)
        }))
        sorinsThirst.setFlavorText("\"I see you're out of the wall.\"\n--Nahiri")
        return sorinsThirst
    }
    // 105 Spark Harvest
    // 106 Spark Reaper
    static func TithebearerGiant() -> Card {
        let tithebearerGiant = Card(name: "Tithebearer Giant", rarity: .Common, set: set, number: 107)
        tithebearerGiant.setManaCost("5B")
        tithebearerGiant.setType(.Creature, .Giant, .Warrior)
        tithebearerGiant.addTriggeredAbility(
            trigger: .ThisETB,
            effect: {
                tithebearerGiant.getController().drawCard()
                tithebearerGiant.getController().loseLife(1)
        })
        tithebearerGiant.setFlavorText("\"I've always said full war chests win wars, but I didn't mean by bashing enemy skulls with them.\"\n--Teysa")
        tithebearerGiant.power = 4
        tithebearerGiant.toughness = 5
        return tithebearerGiant
    }
    // 108 Toll of the Invasion
    static func UnlikelyAid() -> Card {
        let unlikelyAid = Card(name: "Unlikely Aid", rarity: .Common, set: set, number: 109)
        unlikelyAid.setManaCost("1B")
        unlikelyAid.setType(.Instant)
        unlikelyAid.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetCreature(),
            effect: { target in
                target.pump(2, 0)
                target.giveKeywordUntilEndOfTurn(.Indestructible)
        }))
        unlikelyAid.setFlavorText("\"No one will ever ride me again, Gideon. Expect no further favors.\"\n--Rakdos")
        return unlikelyAid
    }
    static func VampireOpportunist() -> Card {
        let vampireOpportunist = Card(name: "Vampire Opportunist", rarity: .Common, set: set, number: 110)
        vampireOpportunist.setManaCost("1B")
        vampireOpportunist.setType(.Creature, .Vampire)
        vampireOpportunist.addActivatedAbility(
            string: "{6}{B}: Each opponent loses 2 life and you gain 2 life.",
            cost: Cost.Mana("6B"),
            effect: {
                vampireOpportunist.eachOpponent({ $0.loseLife(2) })
                vampireOpportunist.getController().gainLife(2)
        })
        vampireOpportunist.setFlavorText("\"I think I cracked a fang.\"")
        vampireOpportunist.power = 2
        vampireOpportunist.toughness = 1
        return vampireOpportunist
    }
    // 111 Vizier of the Scorpion
    // 112 Vraska's Finisher
    // 113 Ahn-Crop Invader
    static func Blindblast() -> Card {
        let blindblast = Card(name: "Blindblast", rarity: .Common, set: set, number: 114)
        blindblast.setManaCost("2R")
        blindblast.setType(.Instant)
        blindblast.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetCreature(),
            effect: { target in
                blindblast.damage(to: target, 1)
                target.giveKeywordUntilEndOfTurn(.CantBlock)
                blindblast.getController().drawCard()
        }))
        blindblast.setFlavorText("\"Peril is in the eye of the beholder. At least, if your aim is good.\"\n--Jaya Ballard")
        return blindblast
    }
    // 115 Bolt Bend
    // 116 Bond of Passion
    // 117 Burning Prophet
    static func ChainwhipCyclops() -> Card {
        let chainwhipCyclops = Card(name: "Chainwhip Cyclops", rarity: .Common, set: set, number: 118)
        chainwhipCyclops.setManaCost("4R")
        chainwhipCyclops.setType(.Creature, .Cyclops, .Warrior)
        chainwhipCyclops.addActivatedAbility(
            string: "{3}{R}: Target creature can't block this turn.",
            cost: Cost.Mana("3R"),
            effect: TargetedEffect.SingleObject(
                restriction: TargetingRestriction.TargetCreature(),
                effect: { $0.giveKeywordUntilEndOfTurn(.CantBlock) }))
        chainwhipCyclops.setFlavorText("\"You say this Tenth District, not Rubblebelt. But where smash happen, that Rubblebelt. Rubblebelt state of mind.\"\n--Urgdar, cyclops philosopher")
        chainwhipCyclops.power = 4
        chainwhipCyclops.toughness = 4
        return chainwhipCyclops
    }
    // 119 Chandra, Fire Artisan
    // 120 Chandra's Pyrohelix
    static func ChandrasTriumph() -> Card {
        let chandrasTriumph = Card(name: "Chandra's Triumph", rarity: .Uncommon, set: set, number: 121)
        chandrasTriumph.setManaCost("1R")
        chandrasTriumph.setType(.Instant)
        chandrasTriumph.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.SingleObject(
                restriction: { ($0.isType(.Creature) || $0.isType(.Planeswalker)) && $0.getController() !== chandrasTriumph.getController() },
                zones: [.Battlefield]),
            effect: { target in
                let controlsChandra = !chandrasTriumph.getController().getPermanents().filter({ $0.isType(.Chandra) && $0.isType(.Planeswalker) }).isEmpty
                let amount = controlsChandra ? 5 : 3
                chandrasTriumph.damage(to: target, amount)
        }))
        chandrasTriumph.setFlavorText("Her triumph came not from achieving her ideal self, but from rejecting the idea of perfection.")
        return chandrasTriumph
    }
    static func CyclopsElectromancer() -> Card {
        let cyclopsElectromancer = Card(name: "Cyclops Electromancer", rarity: .Uncommon, set: set, number: 122)
        cyclopsElectromancer.setManaCost("4R")
        cyclopsElectromancer.setType(.Creature, .Cyclops, .Wizard)
        cyclopsElectromancer.addTriggeredAbility(
            trigger: .ThisETB,
            effect: TargetedEffect.SingleObject(
                restriction: TargetingRestriction.SingleObject(
                    restriction: { $0.isType(.Creature) && $0.getController() !== cyclopsElectromancer.getController() },
                    zones: [.Battlefield]),
                effect: { target in
                    let num = cyclopsElectromancer.getController().getGraveyard().filter({ $0.isType(.Instant) || $0.isType(.Sorcery) }).count
                    cyclopsElectromancer.damage(to: target, num)
            }))
        cyclopsElectromancer.setFlavorText("Every storm has an eye.")
        cyclopsElectromancer.power = 4
        cyclopsElectromancer.toughness = 2
        return cyclopsElectromancer
    }
    static func Demolish() -> Card {
        let demolish = Card(name: "Demolish", rarity: .Common, set: set, number: 123)
        demolish.setManaCost("3R")
        demolish.setType(.Sorcery)
        demolish.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.SingleObject(
                restriction: { return $0.isType(.Artifact) || $0.isType(.Land) },
                zones: [.Battlefield]),
            effect: { target in let _ = target.destroy() }))
        demolish.setFlavorText("\"For every inch of land they take from us, we take it back or we burn it. Give them nothing.\"\n--Aurelia")
        return demolish
    }
    // 124 Devouring Hellion
    // 125 Dreadhorde Arcanist
    // 126 Dreadhorde Twins
    // 127 Finale of Promise
    static func GoblinAssailant() -> Card {
        let goblinAssailant = Card(name: "Goblin Assailant", rarity: .Common, set: set, number: 128)
        goblinAssailant.setManaCost("1R")
        goblinAssailant.setType(.Creature, .Goblin, .Warrior)
        goblinAssailant.setFlavorText("What he lacks in patience, intelligence, empathy, lucidity, hygiene, ability to follow orders, self-regard, and discernable skills, he makes up for in sheer chaotic violence.")
        goblinAssailant.power = 2
        goblinAssailant.toughness = 2
        return goblinAssailant
    }
    static func GoblinAssaultTeam() -> Card {
        let goblinAssaultTeam = Card(name: "Goblin Assault Team", rarity: .Common, set: set, number: 129)
        goblinAssaultTeam.setManaCost("3R")
        goblinAssaultTeam.setType(.Creature, .Goblin, .Warrior)
        goblinAssaultTeam.haste = true
        goblinAssaultTeam.addTriggeredAbility(
            trigger: .ThisDies,
            effect: TargetedEffect.SingleObject(
                restriction: TargetingRestriction.SingleObject(
                    restriction: { $0.isType(.Creature) && $0.getController() === goblinAssaultTeam.getController() },
                    zones: [.Battlefield]),
                effect: { $0.addCounter(.PlusOnePlusOne) }))
        goblinAssaultTeam.setFlavorText("Under the veneer of the various guilds, each goblin has the same basic need: to run screaming at the enemy and hit a bunch of stuff.")
        goblinAssaultTeam.power = 4
        goblinAssaultTeam.toughness = 1
        return goblinAssaultTeam
    }
    // 130 Grim Initiate
    // 131 Heartfire
    // 132 Honor the God-Pharaoh
    // 133 Ilharg, the Raze-Boar
    // 134 Invading Manticore
    // 135 Jaya, Venerated Firemage
    // 136 Jaya's Greeting
    static func KrenkoTinStreetKingpin() -> Card {
        let krenko = Card(name: "Krenko, Tin Street Kingpin", rarity: .Rare, set: set, number: 137)
        krenko.setManaCost("2R")
        krenko.setType(.Legendary, .Creature, .Goblin)
        krenko.addTriggeredAbility(
            trigger: .ThisAttacks,
            effect: {
                krenko.addCounter(.PlusOnePlusOne)
                let power = krenko.getPower()
                for _ in 0..<power {
                    krenko.getController().createToken(Goblin())
                }
        })
        krenko.setFlavorText("\"After the people flee, but before the enemy arrives--that's grabbin' time.\"")
        krenko.power = 1
        krenko.toughness = 2
        return krenko
    }
    // 138 Mizzium Tank
    static func NahirisStoneblades() -> Card {
        let nahirisStoneblades = Card(name: "Nahiri's Stoneblades", rarity: .Common, set: set, number: 139)
        nahirisStoneblades.setManaCost("1R")
        nahirisStoneblades.setType(.Instant)
        nahirisStoneblades.addEffect(TargetedEffect.MultiObject(
            restrictions: [TargetingRestriction.TargetCreature(optional: true), TargetingRestriction.TargetCreature(optional: true)],
            effect: { targets in
                targets.forEach({ $0?.pump(2, 0) })
            },
            distinctTargets: true))
        nahirisStoneblades.setFlavorText("The ancient Planeswalkers Sorin and Nahiri battled across Ravnica, their blows cutting as deep as the grudge.")
        return nahirisStoneblades
    }
    // 140 Neheb, Dreadhorde Champion
    // 141 Raging Kronch
    // 142 Samut's Sprint,
    // 143 Sarkhan the Masterless
    static func SarkhansCatharsis() -> Card {
        let sarkhansCatharsis = Card(name: "Sarkhan's Catharsis", rarity: .Common, set: set, number: 144)
        sarkhansCatharsis.setManaCost("4R")
        sarkhansCatharsis.setType(.Instant)
        sarkhansCatharsis.addEffect(TargetedEffect(
            restriction: TargetingRestriction.TargetPlayerOrPlaneswalker(),
            effect: { sarkhansCatharsis.damage(to: $0, 5) }))
        sarkhansCatharsis.setFlavorText("\"You once brought havoc to my home and ruined my mind. I'm here to return the favor, Bolas.\"")
        return sarkhansCatharsis
    }
    static func SpellgorgerWeird() -> Card {
        let spellgorgerWeird = Card(name: "Spellgorger Weird", rarity: .Common, set: set, number: 145)
        spellgorgerWeird.setManaCost("2R")
        spellgorgerWeird.setType(.Creature, .Weird)
        spellgorgerWeird.addTriggeredAbility(
            trigger: .YouCastNoncreatureSpell,
            effect: { spellgorgerWeird.addCounter(.PlusOnePlusOne) })
        spellgorgerWeird.setFlavorText("Freed from their respective labs, the two weirds formed a partnership, feeding on the arcane energies of war.")
        spellgorgerWeird.power = 2
        spellgorgerWeird.toughness = 2
        return spellgorgerWeird
    }
    // 146 Tibalt, Rakish Instigator
    static func TibaltsRager() -> Card {
        let tibaltsRager = Card(name: "Tibalt's Rager", rarity: .Uncommon, set: set, number: 147)
        tibaltsRager.setManaCost("1R")
        tibaltsRager.setType(.Creature, .Devil)
        tibaltsRager.addTriggeredAbility(
            trigger: .ThisDies,
            effect: TargetedEffect(
                restriction: TargetingRestriction.AnyTarget(),
                effect: { tibaltsRager.damage(to: $0, 1) }))
        tibaltsRager.addActivatedAbility(
            string: "{1}{R}: ~ gets +2/+0 until end of turn.",
            cost: Cost.Mana("1R"),
            effect: { tibaltsRager.pump(2, 0) })
        tibaltsRager.setFlavorText("\"Find out whose that is. I like its energy.\"\n--Judith")
        tibaltsRager.power = 1
        tibaltsRager.toughness = 2
        return tibaltsRager
    }
    static func TurretOgre() -> Card {
        let turretOgre = Card(name: "Turret Ogre", rarity: .Common, set: set, number: 148)
        turretOgre.setManaCost("3R")
        turretOgre.setType(.Creature, .Ogre, .Warrior)
        turretOgre.reach = true
        turretOgre.addTriggeredAbility(
            trigger: .ThisETB,
            effect: { turretOgre.eachOpponent({ turretOgre.damage(to: $0, 2) }) },
            effectOptional: false,
            restriction: { !turretOgre.getController().getCreatures().filter({ $0 != turretOgre && $0.getPower() >= 4 }).isEmpty })
        turretOgre.setFlavorText("Common Gruul career aspirations: berserker, shaman, catapult.")
        turretOgre.power = 4
        turretOgre.toughness = 3
        return turretOgre
    }
    static func ArborealGrazer() -> Card {
        let arborealGrazer = Card(name: "Arboreal Grazer", rarity: .Common, set: set, number: 149)
        arborealGrazer.setManaCost("G")
        arborealGrazer.setType(.Creature, .Beast)
        arborealGrazer.reach = true
        arborealGrazer.addTriggeredAbility(
            trigger: .ThisETB,
            effect: { arborealGrazer.getController().chooseCard(
                from: arborealGrazer.getController().getHand(),
                restriction: { $0.isType(.Land) },
                action: { chosen, rest in
                    chosen?.putOntoBattlefield(tapped: true)
            })})
        arborealGrazer.setFlavorText("\"We fight to stop a tyrant, but we also fight for the gentle creatures who have no concept of what befalls their world.\"\n--Vivien Reid")
        arborealGrazer.power = 0
        arborealGrazer.toughness = 3
        return arborealGrazer
    }
    // 150 Arlinn, Voice of the Pack
    static func ArlinnsWolf() -> Card {
        let arlinnsWolf = Card(name: "Arlinn's Wolf", rarity: .Common, set: set, number: 151)
        arlinnsWolf.setManaCost("2G")
        arlinnsWolf.setType(.Creature, .Wolf)
        arlinnsWolf.blockabilityRequirements.append({ object in
            return object.getPower() > 2
        })
        arlinnsWolf.setFlavorText("If you don't speak wolf, allow me to translate: 'One step closer and I'll rip out your throat.'\"\n--Arlinn Kord")
        arlinnsWolf.power = 3
        arlinnsWolf.toughness = 2
        return arlinnsWolf
    }
    static func AwakeningOfVituGhazi() -> Card {
        let awakeningOfVituGhazi = Card(name: "Awakening of Vitu-Ghazi", rarity: .Rare, set: set, number: 152)
        awakeningOfVituGhazi.setManaCost("3GG")
        awakeningOfVituGhazi.setType(.Instant)
        awakeningOfVituGhazi.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.SingleObject(
                restriction: { $0.isType(.Land) && $0.getController() === awakeningOfVituGhazi.getController() },
                zones: [.Battlefield]),
            effect: { target in
                target.addCounters(.PlusOnePlusOne, 9)
                target.addType(.Legendary)
                target.power = 0
                target.toughness = 0
                target.addType(.Elemental)
                target.addType(.Creature)
                target.haste = true
                target.name = "Vitu-Ghazi"
        }))
        awakeningOfVituGhazi.setFlavorText("The Eternal armies advanced on Vitu-Ghazi. At Nissa's command, Vitu-Ghazi advanced on them.")
        return awakeningOfVituGhazi
    }
    // 153 Band Together
    // 154 Bloom Hulk
    // 155 Bond of Flourishing
    static func CentaurNurturer() -> Card {
        let centaurNurturer = Card(name: "Centaur Nurturer", rarity: .Common, set: set, number: 156)
        centaurNurturer.setManaCost("3G")
        centaurNurturer.setType(.Creature, .Centaur, .Druid)
        centaurNurturer.addTriggeredAbility(
            trigger: .ThisETB,
            effect: { centaurNurturer.getController().gainLife(3) })
        centaurNurturer.addActivatedAbility(
            string: "{T}: Add {W}.",
            cost: Cost.Tap(),
            effect: { centaurNurturer.getController().addMana(color: .White) },
            manaAbility: true)
        centaurNurturer.addActivatedAbility(
            string: "{T}: Add {U}.",
            cost: Cost.Tap(),
            effect: { centaurNurturer.getController().addMana(color: .Blue) },
            manaAbility: true)
        centaurNurturer.addActivatedAbility(
            string: "{T}: Add {B}.",
            cost: Cost.Tap(),
            effect: { centaurNurturer.getController().addMana(color: .Black) },
            manaAbility: true)
        centaurNurturer.addActivatedAbility(
            string: "{T}: Add {R}.",
            cost: Cost.Tap(),
            effect: { centaurNurturer.getController().addMana(color: .Red) },
            manaAbility: true)
        centaurNurturer.addActivatedAbility(
            string: "{T}: Add {G}.",
            cost: Cost.Tap(),
            effect: { centaurNurturer.getController().addMana(color: .Green) },
            manaAbility: true)
        centaurNurturer.setFlavorText("\"I call upon the vigor of the grasses, the hopes of the flowers, and the dreams of the trees.\"")
        centaurNurturer.power = 2
        centaurNurturer.toughness = 4
        return centaurNurturer
    }
    // 157 Challenger Troll
    // 158 Courage in Crisis
    // 159 Evolution Sage
    // 160 Finale of Devastation
    static func ForcedLanding() -> Card {
        let forcedLanding = Card(name: "Forced Landing", rarity: .Common, set: set, number: 161)
        forcedLanding.setManaCost("1G")
        forcedLanding.setType(.Instant)
        forcedLanding.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.SingleObject(
                restriction: { $0.isType(.Creature) && $0.flying },
                zones: [.Battlefield]),
            effect: { $0.putOnBottomOfLibrary() }))
        forcedLanding.setFlavorText("The druid knew only one spell, a charm to encourage rapid plant growth. When airborne Eternals invaded her arboretum, she had to get creative.")
        return forcedLanding
    }
    static func GiantGrowth() -> Card {
        let giantGrowth = Card(name: "Giant Growth", rarity: .Common, set: set, number: 162)
        giantGrowth.setManaCost("G")
        giantGrowth.setType(.Instant)
        giantGrowth.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetCreature(),
            effect: { $0.pump(3, 3) }))
        return giantGrowth
    }
    static func GodEternalRhonas() -> Card {
        let godEternalRhonas = Card(name: "God-Eternal Rhonas", rarity: .Mythic, set: set, number: 163)
        godEternalRhonas.setManaCost("3GG")
        godEternalRhonas.setType(.Legendary, .Creature, .Zombie, .God)
        godEternalRhonas.deathtouch = true
        godEternalRhonas.addTriggeredAbility(
            trigger: .ThisETB,
            effect: {
                godEternalRhonas.getController().getCreatures().filter({ $0 != godEternalRhonas }).forEach({ creature in
                    creature.pump(creature.getBasePower(), 0)
                    creature.giveKeywordUntilEndOfTurn(.Vigilance)
                })
        })
        let deathOrExileEffect: () -> Void = { godEternalRhonas.putOnTopOfLibrary(fromTop: 3)}
        godEternalRhonas.addTriggeredAbility(
            trigger: .ThisDies,
            effect: deathOrExileEffect,
            effectOptional: true)
        godEternalRhonas.addTriggeredAbility(
            trigger: .ThisExiledFromBattlefield,
            effect: deathOrExileEffect,
            effectOptional: true)
        godEternalRhonas.power = 5
        godEternalRhonas.toughness = 5
        return godEternalRhonas
    }
    // 164 Jiang Yanggu, Wildcrafter
    static func KraulStinger() -> Card {
        let kraulStinger = Card(name: "Kraul Stinger", rarity: .Common, set: set, number: 165)
        kraulStinger.setManaCost("2G")
        kraulStinger.setType(.Creature, .Insect, .Assassin)
        kraulStinger.deathtouch = true
        kraulStinger.setFlavorText("He listens to the sounds of battle filtering down from above, waiting for silence, waiting for his time to claim the streets.")
        kraulStinger.power = 2
        kraulStinger.toughness = 2
        return kraulStinger
    }
    // 166 Kronch Wrangler
    // 167 Mowu, Loyal Companion
    // 168 New Horizons
    // 169 Nissa, Who Shakes the World
    static func NissasTriumph() -> Card {
        let nissasTriumph = Card(name: "Nissa's Triumph", rarity: .Uncommon, set: set, number: 170)
        nissasTriumph.setManaCost("GG")
        nissasTriumph.setType(.Sorcery)
        nissasTriumph.addEffect({
            let isBasicForest: (Object) -> Bool = { $0.isType(.Basic) && $0.isType(.Forest) }
            let normalRestrictions = [isBasicForest, isBasicForest]
            let isLand: (Object) -> Bool = { $0.isType(.Land) }
            let nissaRestrictions = [isLand, isLand, isLand]
            let hasNissa = !nissasTriumph.getController().getPermanents().filter({ $0.isType(.Nissa) }).isEmpty
            nissasTriumph.getController().chooseCards(
                from: nissasTriumph.getController().getLibrary(),
                restrictions: hasNissa ? nissaRestrictions : normalRestrictions,
                action: { chosen, rest in
                    chosen.forEach({
                        $0.reveal()
                        $0.putIntoHand()
                    })
                    nissasTriumph.getController().shuffleLibrary()
            })
        })
        nissasTriumph.setFlavorText("Her triumph came not from destroying the unnatural, but from fostering life.")
        return nissasTriumph
    }
    static func ParadiseDruid() -> Card {
        let paradiseDruid = Card(name: "Paradise Druid", rarity: .Uncommon, set: set, number: 171)
        paradiseDruid.setManaCost("1G")
        paradiseDruid.setType(.Creature, .Elf, .Druid)
        paradiseDruid.addStaticAbility(
            requirement: AbilityRequirement.This(paradiseDruid),
            effect: { return $0.isTapped ? $0 : $0.withKeyword(.Hexproof) },
            layer: .AbilityAddingOrRemoving)
        paradiseDruid.addActivatedAbility(
            string: "{T}: Add {W}.",
            cost: Cost.Tap(),
            effect: { paradiseDruid.getController().addMana(color: .White) },
            manaAbility: true)
        paradiseDruid.addActivatedAbility(
            string: "{T}: Add {U}.",
            cost: Cost.Tap(),
            effect: { paradiseDruid.getController().addMana(color: .Blue) },
            manaAbility: true)
        paradiseDruid.addActivatedAbility(
            string: "{T}: Add {B}.",
            cost: Cost.Tap(),
            effect: { paradiseDruid.getController().addMana(color: .Black) },
            manaAbility: true)
        paradiseDruid.addActivatedAbility(
            string: "{T}: Add {R}.",
            cost: Cost.Tap(),
            effect: { paradiseDruid.getController().addMana(color: .Red) },
            manaAbility: true)
        paradiseDruid.addActivatedAbility(
            string: "{T}: Add {G}.",
            cost: Cost.Tap(),
            effect: { paradiseDruid.getController().addMana(color: .Green) },
            manaAbility: true)
        paradiseDruid.setFlavorText("\"There are many kinds of duty, and mine is to see our world grow and endure.\"")
        paradiseDruid.power = 2
        paradiseDruid.toughness = 1
        return paradiseDruid
    }
    // 172 Planewide Celebration
    // 173 Pollenbright Druid
    static func PrimordialWurm() -> Card {
        let primordialWurm = Card(name: "Primordial Wurm", rarity: .Common, set: set, number: 174)
        primordialWurm.setManaCost("4GG")
        primordialWurm.setType(.Creature, .Wurm)
        primordialWurm.setFlavorText("Elite training, single-minded devotion, and lazotep coating help only so much for invaders who are fundamentally bite-sized.")
        primordialWurm.power = 7
        primordialWurm.toughness = 6
        return primordialWurm
    }
    // 175 Return to Nature
    // 176 Snarespinner
    static func SteadyAim() -> Card {
        let steadyAim = Card(name: "Steady Aim", rarity: .Common, set: set, number: 177)
        steadyAim.setManaCost("1G")
        steadyAim.setType(.Instant)
        steadyAim.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetCreature(),
            effect: { target in
                target.untap()
                target.pump(1, 4)
                target.giveKeywordUntilEndOfTurn(.Reach)
        }))
        steadyAim.setFlavorText("The archer's heart broke seeing her compatriots die far below, but she held position until the enemy was in range.")
        return steadyAim
    }
    // 178 Storm the Citadel
    static func ThunderingCeratok() -> Card {
        let thunderingCeratok = Card(name: "Thundering Ceratok", rarity: .Common, set: set, number: 179)
        thunderingCeratok.setManaCost("4G")
        thunderingCeratok.setType(.Creature, .Rhino)
        thunderingCeratok.trample = true
        thunderingCeratok.addTriggeredAbility(
            trigger: .ThisETB,
            effect: {
                thunderingCeratok.getController().getCreatures().filter({ $0 != thunderingCeratok }).forEach({ creature in
                    creature.giveKeywordUntilEndOfTurn(.Trample)
                })
        })
        thunderingCeratok.setFlavorText("\"I thought this was a civilized plane. How are there so many feral beasts?\"\n--Dovin Baan")
        thunderingCeratok.power = 4
        thunderingCeratok.toughness = 5
        return thunderingCeratok
    }
    // 180 Vivien, Champion of the Wilds
    // 181 Vivien's Arkbow
    static func ViviensGrizzly() -> Card {
        let viviensGrizzly = Card(name: "Vivien's Grizzly", rarity: .Common, set: set, number: 182)
        viviensGrizzly.setManaCost("2G")
        viviensGrizzly.setType(.Creature, .Bear, .Spirit)
        viviensGrizzly.addActivatedAbility(
            string: "{3}{G}: Look at the top card of your library. If it's a creature or planeswalker card, you may reveal it and put it into your hand. If you don't put the card into your hand, put it on the bottom of your library.",
            cost: Cost.Mana("3G"),
            effect: {
                viviensGrizzly.getController().chooseCard(
                    from: Array(viviensGrizzly.getController().getLibrary().suffix(1)),
                    restriction: { $0.isType(.Creature) || $0.isType(.Planeswalker) },
                    action: { chosen, rest in
                        chosen?.reveal()
                        chosen?.putIntoHand()
                        if !rest.isEmpty {
                            viviensGrizzly.getController().putOnBottomOfLibrary(rest[0])
                        }
                })
        })
        viviensGrizzly.power = 2
        viviensGrizzly.toughness = 3
        return viviensGrizzly
    }
    static func WardscaleCrocodile() -> Card {
        let wardscaleCrocodile = Card(name: "Wardscale Crocodile", rarity: .Common, set: set, number: 183)
        wardscaleCrocodile.setManaCost("4G")
        wardscaleCrocodile.setType(.Creature, .Crocodile)
        wardscaleCrocodile.hexproof = true
        wardscaleCrocodile.setFlavorText("\"The Eternals had to endure Amonkhet's five trials. Let's see if they can pass the Trial of Ravnica.\"\n--Jace Beleren")
        wardscaleCrocodile.power = 5
        wardscaleCrocodile.toughness = 3
        return wardscaleCrocodile
    }
    static func AjaniTheGreathearted() -> Card {
        let ajani = Card(name: "Ajani, the Greathearted", rarity: .Rare, set: set, number: 184)
        ajani.setManaCost("2GW")
        ajani.setType(.Legendary, .Planeswalker, .Ajani)
        ajani.addStaticAbility(
            requirement: AbilityRequirement.CreaturesYouControl(source: ajani),
            effect: { return $0.withKeyword(.Vigilance) },
            layer: .AbilityAddingOrRemoving)
        ajani.addActivatedAbility(
            string: "{+1}: You gain 3 life.",
            cost: Cost.AddCounters(.Loyalty, 1),
            effect: { ajani.getController().gainLife(3) },
            manaAbility: false,
            sorcerySpeed: true,
            loyaltyAbility: true)
        ajani.addActivatedAbility(
            string: "{-2}: Put a +1/+1 counter on each creature you control and a loyalty counter on each other planeswalker you control.",
            cost: Cost.RemoveCounters(.Loyalty, 2),
            effect: {
                ajani.getController().getPermanents().filter({ $0.isType(.Creature) }).forEach({ $0.addCounter(.PlusOnePlusOne )})
                ajani.getController().getPermanents().filter({ $0.isType(.Planeswalker) && $0 != ajani }).forEach({ $0.addCounter(.Loyalty) })
            },
            manaAbility: false,
            sorcerySpeed: true,
            loyaltyAbility: true)
        ajani.startingLoyalty = 5
        return ajani
    }
    // 185 Angrath's Rampage
    // 186 Bioessence Hydra
    // 187 Casualties of War
    // 188 Cruel Celebrant
    static func Deathsprout() -> Card {
        let deathsprout = Card(name: "Deathsprout", rarity: .Uncommon, set: set, number: 189)
        deathsprout.setManaCost("1BBG")
        deathsprout.setType(.Instant)
        deathsprout.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetCreature(),
            effect: { target in
                _ = target.destroy()
                deathsprout.getController().chooseCard(
                    from: deathsprout.getController().getLibrary(),
                    restriction: { $0.isBasicLand() },
                    action: { chosen, rest in
                        chosen?.putOntoBattlefield(tapped: true)
                        deathsprout.getController().shuffleLibrary()
                    })
        }))
        deathsprout.setFlavorText("\"They say nothing lasts forever. I say everything lasts forever, just not in the form you may be accustomed to.\"\n--Vraska")
        return deathsprout
    }
    static func Despark() -> Card {
        let despark = Card(name: "Despark", rarity: .Uncommon, set: set, number: 191)
        despark.setManaCost("WB")
        despark.setType(.Instant)
        despark.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.SingleObject(
                restriction: { $0.isPermanent() && $0.getConvertedManaCost() >= 4 },
                zones: [.Battlefield]),
            effect: { $0.exile() }))
        despark.setFlavorText("Liliana whispered to whatever consciousness Oketra and Bontu had left. \"You are the gods. He is the usurper. You know what to do.\"")
        return despark
    }
    // 191 Domri, Anarch of Bolas
    static func DomrisAmbush() -> Card {
        let domrisAmbush = Card(name: "Domri's Ambush", rarity: .Uncommon, set: set, number: 192)
        domrisAmbush.setManaCost("RG")
        domrisAmbush.setType(.Sorcery)
        domrisAmbush.addEffect(TargetedEffect.MultiObject(
            restrictions: [
                TargetingRestriction.SingleObject(
                    restriction: { $0.isType(.Creature) && $0.getController() === domrisAmbush.getController() },
                    zones: [.Battlefield]),
                TargetingRestriction.SingleObject(
                    restriction: { ($0.isType(.Creature) || $0.isType(.Planeswalker)) && $0.getController() !== domrisAmbush.getController() },
                    zones: [.Battlefield])
            ],
            effect: { targets in
                if let myCreature = targets[0], let theirCreatureOrPlaneswalker = targets[1] {
                    myCreature.damage(to: theirCreatureOrPlaneswalker, myCreature.getPower())
                }
            }))
        domrisAmbush.setFlavorText("\"When civilization teeters on the brink, I'll be there to kick it the rest of the way.\"")
        return domrisAmbush
    }
    static func DovinsVeto() -> Card {
        let dovinsVeto = Card(name: "Dovin's Veto", rarity: .Rare, set: set, number: 193)
        dovinsVeto.setManaCost("WU")
        dovinsVeto.setType(.Instant)
        dovinsVeto.uncounterable = true
        dovinsVeto.addEffect(TargetedEffect.SingleObject(
            restriction: TargetingRestriction.TargetNonCreatureSpell(),
            effect: { $0.counter() }
        ))
        dovinsVeto.setFlavorText("\"I see you've learned nothing, Chandra. You'd still put a match to something rather than understand it.\"")
        return dovinsVeto
    }
    // 194 Dreadhorde Butcher
    static func EliteGuardmage() -> Card {
        let eliteGuardmage = Card(name: "Elite Guardmage", rarity: .Uncommon, set: set, number: 195)
        eliteGuardmage.setManaCost("2WU")
        eliteGuardmage.setType(.Creature, .Human, .Wizard)
        eliteGuardmage.flying = true
        eliteGuardmage.addTriggeredAbility(
            trigger: .ThisETB,
            effect: {
                eliteGuardmage.getController().gainLife(3)
                eliteGuardmage.getController().drawCard()
        })
        eliteGuardmage.setFlavorText("\"Be careful. You'll have more than Dovin to contend with if you hope to breach New Prahv.\"\n--Lavinia, to Chandra Nalaar")
        eliteGuardmage.power = 2
        eliteGuardmage.toughness = 3
        return eliteGuardmage
    }
    // 196 Enter the God-Eternals
    // 197 Feather, the Redeemed
    // 198 Gleaming Overseer
    static func HeartwarmingRedemption() -> Card {
        let heartwarmingRedemption = Card(name: "Heartwarming Redemption", rarity: .Uncommon, set: set, number: 199)
        heartwarmingRedemption.setManaCost("2RW")
        heartwarmingRedemption.setType(.Instant)
        heartwarmingRedemption.addEffect({
            let cards = heartwarmingRedemption.getController().getHand().count + 1
            heartwarmingRedemption.getController().discardHand()
            heartwarmingRedemption.getController().drawCards(cards)
            heartwarmingRedemption.getController().gainLife(heartwarmingRedemption.getController().getHand().count)
        })
        heartwarmingRedemption.setFlavorText("Kytheon had known war every day of his life. Now he finally knew peace.")
        return heartwarmingRedemption
    }
    // 200 Huatli's Raptor
    // 201 Invade the City
    static func LeylineProwler() -> Card {
        let leylineProwler = Card(name: "Leyline Prowler", rarity: .Uncommon, set: set, number: 202)
        leylineProwler.setManaCost("1BG")
        leylineProwler.setType(.Creature, .Nightmare, .Beast)
        leylineProwler.deathtouch = true
        leylineProwler.lifelink = true
        leylineProwler.addActivatedAbility(
            string: "{T}: Add {W}.",
            cost: Cost.Tap(),
            effect: { leylineProwler.getController().addMana(color: .White) },
            manaAbility: true)
        leylineProwler.addActivatedAbility(
            string: "{T}: Add {U}.",
            cost: Cost.Tap(),
            effect: { leylineProwler.getController().addMana(color: .Blue) },
            manaAbility: true)
        leylineProwler.addActivatedAbility(
            string: "{T}: Add {B}.",
            cost: Cost.Tap(),
            effect: { leylineProwler.getController().addMana(color: .Black) },
            manaAbility: true)
        leylineProwler.addActivatedAbility(
            string: "{T}: Add {R}.",
            cost: Cost.Tap(),
            effect: { leylineProwler.getController().addMana(color: .Red) },
            manaAbility: true)
        leylineProwler.addActivatedAbility(
            string: "{T}: Add {G}.",
            cost: Cost.Tap(),
            effect: { leylineProwler.getController().addMana(color: .Green) },
            manaAbility: true)
        leylineProwler.setFlavorText("It feeds on the dark energies that course through the deep world--and on any other creature lured by the leyline's pull.")
        leylineProwler.power = 2
        leylineProwler.toughness = 3
        return leylineProwler
    }
    // 203 Living Twister
    // 204 Mayhem Devil
    // 205 Merfolk Skydiver
    // 206 Neoform
    // 207 Nicol Bolas, Dragon-God
    // 208 Niv-Mizzet Reborn
    // 209 Oath of Kaya
    static func PledgeOfUnity() -> Card {
        let pledgeOfUnity = Card(name: "Pledge of Unity", rarity: .Uncommon, set: set, number: 210)
        pledgeOfUnity.setManaCost("1GW")
        pledgeOfUnity.setType(.Instant)
        pledgeOfUnity.addEffect({
            pledgeOfUnity.getController().getCreatures().forEach({ $0.addCounter(.PlusOnePlusOne ) })
            let numCreatures = pledgeOfUnity.getController().getCreatures().count
            pledgeOfUnity.getController().gainLife(numCreatures)
        })
        pledgeOfUnity.setFlavorText("\"No one hero will save this day. Today we must all be heroes.\"\n--Gideon Jura")
        return pledgeOfUnity
    }
    // 211 Ral, Storm Conduit
    // 212 Ral's Outburst
    // 213 Roalesk, Apex Hybrid
    // 214 Role Reversal
    static func RubblebeltRioters() -> Card {
        let rubblebeltRioters = Card(name: "Rubblebelt Rioters", rarity: .Uncommon, set: set, number: 215)
        rubblebeltRioters.setManaCost("1RG")
        rubblebeltRioters.setType(.Creature, .Human, .Berserker)
        rubblebeltRioters.haste = true
        rubblebeltRioters.addTriggeredAbility(
            trigger: .ThisAttacks,
            effect: {
                let maxPower = rubblebeltRioters.getController().getCreatures().map({ $0.getPower() }).max() ?? 0
                rubblebeltRioters.pump(maxPower, 0)
        })
        rubblebeltRioters.setFlavorText("\"If the system is broken, break the system.\"\n--Domri Rade")
        rubblebeltRioters.power = 0
        rubblebeltRioters.toughness = 4
        return rubblebeltRioters
    }
    static func SolarBlaze() -> Card {
        let solarBlaze = Card(name: "Solar Blaze", rarity: .Rare, set: set, number: 216)
        solarBlaze.setManaCost("2RW")
        solarBlaze.setType(.Sorcery)
        solarBlaze.addEffect({
            Game.shared.bothPlayers({ player in
                player.getCreatures().forEach({ creature in
                    creature.damage(to: creature, creature.getPower())
                })
            })
        })
        solarBlaze.setFlavorText("\"The primary weapon is nothing more than light. It shows them what they are, and they burn of their own accord.\"\n--Aurelia")
        return solarBlaze
    }
    // 217 Sorin, Vengeful Bloodlord
    // 218 Soul Diviner
    // 219 Storrev, Devkarin Lich
    // 220 Tamiyo, Collector of Tales
    // 221 Teferi, Time Raveler
    // 222 Tenth District Legionnaire
    // 223 Time Wipe
    // 224 Tolsimir, Friend to Wolves
    // 225 Tyrant's Scorn
    // 226 Widespread Brutality
    // 227 Angrath, Captain of Chaos
    // 228 Ashiok, Dream Render
    // 229 Dovin, Hand of Control
    // 230 Huatli, the Sun's Heart
    // 231 Kaya, Bane of the Dead
    // 232 Kiora, Behemoth Beckoner
    // 233 Nahiri, Storm of Stone
    // 234 Saheeli, Sublime Artificer
    // 235 Samut, Tyrant Smasher
    // 236 Vraska, Swarm's Eminence
    // 237 Firemind Vessel
    static func GodPharaohsStatue() -> Card {
        let godPharaohsStatue = Card(name: "God-Pharaoh's Statue", rarity: .Uncommon, set: set, number: 238)
        godPharaohsStatue.setManaCost("6")
        godPharaohsStatue.setType(.Legendary, .Artifact)
        godPharaohsStatue.addStaticAbility(
            requirement: AbilityRequirement.SpellsYourOpponentsCast(source: godPharaohsStatue),
            effect: { object in
                object.castingCost = object.getBaseCastingCost().increasedBy(2)
                return object
            },
            layer: .CostIncrease)
        godPharaohsStatue.addTriggeredAbility(
            trigger: .YourEndStep,
            effect: { godPharaohsStatue.eachOpponent({ $0.loseLife(1) }) })
        godPharaohsStatue.setFlavorText("A dictator's infuriating smirk, an affront to everything Ravnica stood for.")
        return godPharaohsStatue
    }
    // 239 Guild Globe
    // 240 Iron Bully
    // 241 Mana Geode
    // 242 Prismite
    // 243 Saheeli's Silverwing
    // 244 Blast Zone
    // 245 Emergence Zone
    // 246 Gateway Plaza
    // 247 Interplanar Beacon
    // 248 Karn's Bastion
    // 249 Mobilized District
    
    // Basics
    
    // Planeswalker Decks
    
    static func Spirit() -> Token {
        let spirit = Token(name: "Spirit", set: set, number: 1)
        spirit.setType(.Creature, .Spirit)
        spirit.power = 2
        spirit.toughness = 2
        return spirit
    }
    
    static func ZombieWarrior() -> Token {
        let zombieWarrior = Token(name: "Zombie Warrior", set: set, number: 11)
        zombieWarrior.colors = [.Black]
        zombieWarrior.setType(.Creature, .Zombie, .Warrior)
        zombieWarrior.vigilance = true
        zombieWarrior.power = 4
        zombieWarrior.toughness = 4
        return zombieWarrior
    }
    
    static func Goblin() -> Token {
        let goblin = Token(name: "Goblin", set: set, number: 14)
        goblin.colors = [.Red]
        goblin.setType(.Creature, .Goblin)
        goblin.power = 1
        goblin.toughness = 1
        return goblin
    }
}
